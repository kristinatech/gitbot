
name: Auto Commit

on:
  schedule:
    - cron: '*/1 * * * *'
  push:
    branches:
      - main

permissions:                
    contents: write
  
jobs:
  auto_commit:
    runs-on: ubuntu-latest
    steps:
      - name: DEBUG 
        run: echo "::debug::Ref = ${{github.ref}}"
      - uses: actions/checkout@v3      
        with:
         persist-credentials: false
         fetch-depth: 0

      - name: Modify last update
        run: |
          d=`date '+%Y-%m-%dT%H:%M:%SZ'`
          echo $d > LAST_UPDATED
          
      - name: Commit changes
        run: |
          git config --local user.email 'zeshancodes@gmail.com'
          git config --local user.name 'kristinatech'
          git add -A
          
          arr[0]="feat: ğŸ’¤ Just woke up to commit"
          arr[1]="feat: ğŸ¥± Yawning while committing"
          arr[2]="feat: ğŸ˜´ Dreaming of commits"
          arr[3]="feat: ğŸ›‹ï¸ Committed from the couch"
          arr[4]="feat: ğŸŒ™ Committing in my sleep"
          arr[5]="feat: ğŸ“º Netflix and commit"
          arr[6]="feat: ğŸ” Too busy eating to commit"
          arr[7]="feat: ğŸ›ï¸ Committing from my cozy bed"
          arr[8]="feat: ğŸ¥± Too tired to write a proper commit message"
          arr[9]="feat: ğŸš« Procrastinating... but committed"
          arr[10]="feat: ğŸ’¤ Committed with my eyes closed"
          arr[11]="feat: ğŸŒ´ Beachside commits"
          arr[12]="feat: ğŸ›Œ Committing from under the covers"
          arr[13]="feat: ğŸ¹ Lazy day, lazy commits"
          arr[14]="feat: ğŸ“š Skipping commits for a good book"
          arr[15]="feat: ğŸš« Avoiding work... but committing"
          arr[16]="feat: â° Late-night commits"
          arr[17]="feat: ğŸ• Pizza break... and a quick commit"
          arr[18]="feat: ğŸ¥± Committing in my PJs"
          arr[19]="feat: ğŸ® Gaming pause for a commit"
          arr[20]="feat: ğŸš¶â€â™‚ï¸ğŸš¶â€â™€ï¸ Committing at a snail's pace"
          arr[21]="feat: ğŸ“º Binge-watching while committing"
          arr[22]="feat: ğŸŒ… Sunset commits"
          arr[23]="feat: ğŸ›‹ï¸ Too comfortable to commit quickly"
          arr[24]="feat: ğŸ˜´ Sleepy commits"
          arr[25]="feat: ğŸ›Œ Midday nap and commit"
          arr[26]="feat: ğŸ© Pausing for a sweet commit"
          arr[27]="feat: ğŸš¶â€â™‚ï¸ğŸš¶â€â™€ï¸ Slowly committing step by step"
          arr[28]="feat: ğŸ›‹ï¸ Couch potato commits"
          arr[29]="feat: ğŸŒ¸ Procrastinating with flower commits"
          arr[30]="feat: ğŸ¥± Committing with half-closed eyes"
          arr[31]="feat: ğŸµ Committing to the rhythm of a lazy tune"
          arr[32]="feat: ğŸ” Food coma commits"
          arr[33]="feat: ğŸ“º TV show paused for a commit"
          arr[34]="feat: ğŸš¶â€â™‚ï¸ğŸš¶â€â™€ï¸ Slow and steady commits"
          arr[35]="feat: ğŸ’¤ Dreaming of committed code"
          arr[36]="feat: ğŸ• Pizza-fueled commits"
          arr[37]="feat: ğŸ¥± Committing while fighting sleep"
          arr[38]="feat: ğŸ›Œ Committing under a warm blanket"
          arr[39]="feat: ğŸŒ… Lazy sunrise commits"
          arr[40]="feat: ğŸ® Gaming break for a quick commit"
          arr[41]="feat: ğŸ“º Binge-watching and committing simultaneously"
          arr[42]="feat: ğŸŒ¸ Committing at a leisurely pace"
          arr[43]="feat: ğŸ¥± Committing in the twilight of drowsiness"
          arr[44]="feat: ğŸ›‹ï¸ Lounging and committing"
          arr[45]="feat: ğŸ˜´ Dream commits in progress"
          arr[46]="feat: ğŸš¶â€â™‚ï¸ğŸš¶â€â™€ï¸ Committing with a slow stroll"
          arr[47]="feat: ğŸŒ™ Night owl commits"
          arr[48]="feat: ğŸ“š Escaping into commits instead of reading"
          arr[49]="feat: ğŸ¥± Committing with heavy eyelids"
          arr[50]="feat: ğŸ¦ Ice cream break... and a quick commit"
          
          rand=$[$RANDOM % ${#arr[@]}]
          
          git commit -m "${arr[$rand]}"
          
      - name: GIthub Push
        uses: ad-m/github-push-action@master
        with:
            github_token: ${{ secrets.GITHUB_TOKEN }}
        env:
            CI: true
